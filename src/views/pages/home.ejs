<!-- hero -->
<section class="hero-mint rounded-3 p-4 p-md-5 mb-5 position-relative overflow-hidden">
    <h1 class="display-6 fw-semibold text-white mb-3">
        <% if (currentUser) { %>
            Привет, <%= currentUser.name %>!
        <% } else { %>
            Добро пожаловать в Quiz Portal!
        <% } %>
    </h1>
    <p class="lead text-white-50 mb-4">
        Тысячи вопросов, мгновенная обратная связь и рост навыков.
    </p>

    <!-- поиск -->
    <form action="/search" method="GET" class="hero-search mx-auto">
        <div class="input-group shadow-sm">
            <input type="text" name="q" class="form-control"
                   placeholder="Найти квиз (JS, музыка, кухня…)">
            <button class="btn btn-primary" type="submit">
                <i class="bi bi-search"></i>
            </button>
        </div>
    </form>

    <% if (currentUser) { %>
        <a href="/quizzes/new" class="btn btn-outline-light btn-lg position-absolute end-0 bottom-0 mb-4 me-4">
            <i class="bi bi-plus-lg me-1"></i> Создать квиз
        </a>
    <% } %>
</section>

<!-- категории (чипы) -->
<% if ((categories || []).length) { %>
    <div class="mb-4 d-flex flex-wrap gap-2 justify-content-center">
        <% categories.forEach(c => { %>
            <a href="/category/<%= c.slug %>" class="badge rounded-pill category-chip">
                <i class="bi bi-tag me-1"></i><%= c.name %>
            </a>
        <% }) %>
    </div>
<% } %>

<!-- лента квизов -->
<% if ((quizzes || []).length) { %>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
        <% quizzes.forEach((q, i) => { %>
            <div style="--card-delay: <%= i * 0.07 %>s" class="quiz-card-animated">
                <%- include('../partials/quizCard', { quiz: q, currentUser }) %>
            </div>
        <% }) %>
    </div>
<% } else { %>
    <p class="text-center text-muted">Пока пусто — будь первым, создай контент!</p>
<% } %>

<!-- Toast container -->
<div id="toast-container" style="position: fixed; top: 1.5rem; right: 1.5rem; z-index: 1080;"></div>

<script src="/javascripts/main.js"></script>
